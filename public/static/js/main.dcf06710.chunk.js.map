{"version":3,"sources":["types/types.js","reducers/uiReducer.js","reducers/calendarReducer.js","reducers/authReducer.js","reducers/rootReducer.js","store/store.js","helpers/fetch.js","helpers/prepareEvents.js","actions/events.js","actions/auth.js","hooks/useForm.js","components/auth/LoginScreen.js","components/ui/NavBar.js","helpers/calendar-messages-es.js","components/calendar/CalendarEvent.js","actions/ui.js","components/calendar/CalendarModal.js","components/ui/AddNewFab.js","components/ui/DeleteEventFab.js","components/calendar/CalendarScreen.js","router/PrivateRoute.js","router/PublicRoute.js","router/AppRouter.js","CalendarApp.js","index.js"],"names":["types","initialState","modalOpen","events","activeEvent","checking","rootReducer","combineReducers","ui","state","action","type","calendar","payload","map","e","id","filter","auth","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","baseUrl","process","fetchSinToken","endpoint","data","method","url","fetch","headers","body","JSON","stringify","fetchConToken","token","localStorage","getItem","prepareEvents","end","moment","toDate","start","eventAddNew","event","eventClearActiveEvent","eventUpdated","eventDeleted","eventLoaded","checkingFinish","login","user","startLogout","dispatch","clear","logout","useForm","useState","values","setValues","reset","handleInputChange","target","name","value","LoginScreen","lEmail","lPassword","formLoginValues","handleLoginInputChange","rName","rEmail","rPassword1","rPassword2","formRegisterValues","handleRegisterInputChange","useDispatch","className","onSubmit","email","password","preventDefault","a","resp","json","ok","setItem","Date","getTime","uid","Swal","fire","msg","placeholder","onChange","NavBar","useSelector","onClick","messages","allDay","previous","next","today","month","week","day","agenda","date","time","noEventsInRange","showMore","total","CalendarEvent","title","uiOpenModal","customStyles","content","top","left","right","bottom","marginRight","transform","Modal","setAppElement","now","minutes","seconds","add","nowPlus1","clone","initEvent","notes","CalendarModal","dateStart","setDateStart","dateEnd","setDateEnd","titleValid","setTitleValid","formValues","setFormValues","useEffect","closeModal","isOpen","onRequestClose","closeTimeoutMS","style","overlayClassName","momentStart","momentEnd","isSameOrAfter","trim","length","console","log","getState","evento","_id","eventStartAddNew","minDate","autoComplete","rows","AddNewFab","props","DeleteEventFab","locale","localizer","momentLocalizer","CalendarScreen","lastView","setLastView","eventos","startAccessor","endAccessor","onDoubleClickEvent","selectable","onSelectEvent","onView","eventPropGetter","isSelected","backgroundColor","borderRadius","opacity","display","color","components","onSelectSlot","view","PrivateRoute","isAuthenticated","Component","component","rest","to","PublicRoute","AppRouter","exact","path","CalendarApp","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.dcf06710.chunk.js","sourcesContent":["export const types = {\n  uiOpenModal: '[ui] Open modal',\n  uiCloseModal: '[ui] Close modal',\n\n  eventSetActive: '[event] Set Active',\n  eventLogout: '[event] Logout event',\n\n  eventStartAddNew: '[Event] Start add new',\n  eventAddNew: '[event] Add new',\n  eventClearActiveEvent: '[event] Clear active event',\n  eventUpdated: '[event] Event updated',\n  eventDeleted: '[event] Event deleted',\n  eventLoaded: '[event] Events loaded',\n\n  authCheckingFinish: '[auth] Finish login state',\n  authStartLogin: '[auth] Start login',\n  authLogin: '[auth] Login',\n  authStartRegister: '[auth] Start register',\n  authStartTokenRenew: '[auth] Start token renew',\n  authLogout: '[auth] Logout'\n}","import { types } from \"../types/types\";\n\nconst initialState = {\n  modalOpen: false,\n};\n\nexport const uiReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case types.uiOpenModal:\n      return {\n        ...state,\n        modalOpen: true,\n      };\n\n    case types.uiCloseModal:\n      return {\n        ...state,\n        modalOpen: false,\n      };\n\n    default:\n      return state;\n  }\n};\n","import { types } from \"../types/types\";\n\n// {\n//   id: new Date().getTime(),\n//   title: \"Cumpleaños jefe\",\n//   start: moment().toDate(),\n//   end: moment().add( 2,'hours').toDate(),\n//   bgColor: \"#fafafa\",\n//   user: {\n//     _id: \"1234\",\n//     name: \"Raquel\"\n//   }\n// }\n\nconst initialState = {\n  events: [],\n  activeEvent: null,\n}\n\nexport const calendarReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case types.eventSetActive:\n      return {\n        ...state,\n        activeEvent: action.payload,\n      };\n    case types.eventAddNew:\n      return {\n        ...state,\n        events: [...state.events, action.payload],\n      };\n    case types.eventClearActiveEvent:\n      return {\n        ...state,\n        activeEvent: null,\n      };\n    case types.eventUpdated:\n      return {\n        ...state,\n        events: state.events.map(\n          e => e.id === action.payload.id ? action.payload : e\n        )\n      };\n    case types.eventDeleted:\n      return {\n        ...state,\n        events: state.events.filter(\n          e => (e.id !== state.activeEvent.id )\n        ),\n        activeEvent: null\n      };\n    case types.eventLoaded:\n      return {\n        ...state,\n        events: [...action.payload]\n      }\n    case types.eventLogout:\n      return {\n        ...initialState\n      }\n\n    default:\n      return state;\n  }\n};","import { types } from \"../types/types\";\n\n\nconst initialState = {\n  checking: true,\n}\n\nexport const authReducer = (state = initialState, action) => {\n\n  switch (action.type) {\n   case types.authLogin:\n    return {\n      ...state,\n      ...action.payload,\n      checking: false,\n    }\n    case types.authCheckingFinish:\n      return {\n        ...state,\n        checking: false\n      }\n    case types.authLogout:\n      return {\n        checking: false\n      }\n    default:\n      return state\n  }\n}","import {combineReducers} from 'redux';\nimport { uiReducer } from './uiReducer';\nimport { calendarReducer } from './calendarReducer';\nimport { authReducer } from './authReducer'\n\nexport const rootReducer = combineReducers({\n  ui: uiReducer,\n  calendar: calendarReducer,\n  auth: authReducer\n})","import { createStore, compose, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk'\nimport { rootReducer } from '../reducers/rootReducer'\n\nconst composeEnhancers = (typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) || compose;\n\nexport const store = createStore (\n  rootReducer,\n  composeEnhancers(\n    applyMiddleware( thunk )\n  )\n)","const baseUrl = process.env.REACT_APP_API_URL;\n\nconst fetchSinToken = (endpoint, data, method = \"GET\") => {\n  const url = `${baseUrl}/${endpoint}`;\n\n  if (method === \"GET\") {\n    return fetch(url);\n  } else {\n    return fetch(url, {\n      method,\n      headers: {\n        \"Content-type\": \"application/json\",\n      },\n      body: JSON.stringify(data),\n    });\n  }\n};\n\nconst fetchConToken = (endpoint, data, method = \"GET\") => {\n  const url = `${baseUrl}/${endpoint}`;\n  const token = localStorage.getItem(\"token\") || \"\";\n\n  if (method === \"GET\") {\n    return fetch(url, {\n      method,\n      headers: { \"x-token\": token },\n    });\n  } else {\n    return fetch(url, {\n      method,\n      headers: {\n        \"Content-type\": \"application/json\",\n        \"x-token\": token,\n      },\n      body: JSON.stringify(data),\n    });\n  }\n};\n\nexport { fetchSinToken, fetchConToken };\n","import moment from \"moment\";\n\nexport const prepareEvents = (events = []) => {\n  return events.map((e) => ({\n    ...e,\n    end: moment(e.end).toDate(),\n    start: moment(e.start).toDate(),\n  }));\n};\n","import Swal from 'sweetalert2'\nimport { types } from \"../types/types\";\nimport { fetchConToken } from \"../helpers/fetch\";\nimport { prepareEvents } from \"../helpers/prepareEvents\";\n\n\nexport const eventStartAddNew = (event) => {\n  return async (dispatch, getState) => {\n\n    const { uid, name } = getState().auth\n\n    try {\n      const resp = await fetchConToken(\"events\", event, \"POST\");\n      const body = await resp.json();\n\n      if (body.ok) {\n        event.id = body.evento.id;\n        event.user = {\n          _id: uid,\n          name: name\n        }\n \n        dispatch(eventAddNew(event))\n      }\n\n    } catch (error) {\n      console.log(error)\n    }\n  };\n};\n\nconst eventAddNew = (event) => ({\n  type: types.eventAddNew,\n  payload: event,\n});\n\nexport const eventSetActive = (event) => ({\n  type: types.eventSetActive,\n  payload: event,\n});\n\nexport const eventClearActiveEvent = () => ({\n  type: types.eventClearActiveEvent,\n});\n\nexport const eventStartUpdate = (event) => {\n  return async(dispatch) => {\n    try {\n      const resp = await fetchConToken(`events/${event.id}`, event, 'PUT');\n      const body = await resp.json();\n\n      if( body.ok ){\n        dispatch( eventUpdated( event ) )\n      }else {\n        Swal.fire('Error', body.msg, 'error')\n      }\n      \n    } catch (error) {\n      console.log(error)\n    }\n  }\n}\n\nconst eventUpdated = (event) => ({\n  type: types.eventUpdated,\n  payload: event,\n});\n\n\nexport const eventStartDelete = (event) => {\n  return async(dispatch, getState) => {\n\n    const { id } = getState().calendar.activeEvent;\n\n    try {\n      const resp = await fetchConToken(`events/${id}`, {}, 'DELETE');\n      const body = await resp.json();\n\n      if( body.ok ){\n        dispatch( eventDeleted( event ) )\n      }else {\n        Swal.fire('Error', body.msg, 'error')\n      }\n      \n    } catch (error) {\n      console.log(error)\n    }\n  }\n}\n\nconst eventDeleted = () => ({\n  type: types.eventDeleted,\n});\n\nexport const eventStartLoading = () => {\n  return async(dispatch) => {\n    try {\n      const resp = await fetchConToken('events');\n      const body = await resp.json();\n\n      const events = prepareEvents( body.eventos );\n\n      dispatch( eventLoaded( events ))\n\n    } catch (error) {\n      \n    }\n  }\n}\n\nconst eventLoaded = (events) => ({\n  type: types.eventLoaded,\n  payload: events\n});\n\nexport const eventLogout = () => ({\n  type: types.eventLogout\n})\n","import Swal from \"sweetalert2\";\n\nimport { types } from \"../types/types\";\nimport { fetchSinToken, fetchConToken } from \"../helpers/fetch\";\nimport { eventLogout } from './events'\n\n\nexport const startLogin = (email, password) => {\n  return async (dispatch) => {\n    const resp = await fetchSinToken(\"auth\", { email, password }, \"POST\");\n    const body = await resp.json();\n\n    if (body.ok) {\n      localStorage.setItem(\"token\", body.token);\n      localStorage.setItem(\"token-init-date\", new Date().getTime());\n\n      dispatch(\n        login({\n          uid: body.uid,\n          name: body.name,\n        })\n      );\n    } else {\n      Swal.fire(\"Error\", body.msg, \"error\");\n    }\n  };\n};\n\nexport const startRegister = (email, password, name) => {\n  return async (dispatch) => {\n    const resp = await fetchSinToken(\n      \"auth/new\",\n      { name, email, password },\n      \"POST\"\n    );\n    const body = await resp.json();\n\n    if (body.ok) {\n      localStorage.setItem(\"token\", body.token);\n      localStorage.setItem(\"token-init-date\", new Date().getTime());\n\n      dispatch(\n        login({\n          uid: body.uid,\n          name: body.name,\n        })\n      );\n    } else {\n      Swal.fire(\"Error\", body.msg, \"error\");\n    }\n  };\n};\n\nexport const startChecking = () => {\n  return async(dispatch) => {\n    const resp = await fetchConToken( \"auth/renew\");\n    const body = await resp.json();\n\n    if (body.ok) {\n      localStorage.setItem(\"token\", body.token);\n      localStorage.setItem(\"token-init-date\", new Date().getTime());\n\n      dispatch(\n        login({\n          uid: body.uid,\n          name: body.name,\n        })\n      );\n    } else {\n      dispatch( checkingFinish() )\n    }\n  }\n}\n\nconst checkingFinish = () => ({\n  type: types.authCheckingFinish,\n});\n\nconst login = (user) => ({\n  type: types.authLogin,\n  payload: user,\n});\n\nexport const startLogout = () => {\n  return ( dispatch ) => {\n    localStorage.clear();\n    dispatch( eventLogout() )\n    dispatch(logout());\n  }\n} \n\nconst logout = () => ({\n  type: types.authLogout\n})\n","import { useState } from 'react';\n\n\nexport const useForm = ( initialState = {} ) => {\n    \n    const [values, setValues] = useState(initialState);\n\n    const reset = () => {\n        setValues( initialState );\n    }\n\n\n    const handleInputChange = ({ target }) => {\n\n        setValues({\n            ...values,\n            [ target.name ]: target.value\n        });\n\n    }\n\n    return [ values, handleInputChange, reset ];\n\n}","import React from \"react\";\nimport Swal from 'sweetalert2'\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useForm } from \"../../hooks/useForm\";\nimport { startLogin, startRegister } from '../../actions/auth'\nimport \"./login.css\";\n\nexport const LoginScreen = () => {\n  const [formLoginValues, handleLoginInputChange] = useForm({\n    lEmail: \"raquelv85@gmail.com\",\n    lPassword: \"123456\",\n  });\n\n  const [formRegisterValues, handleRegisterInputChange] = useForm({\n    rName: 'Raquel4',\n    rEmail: \"raquelv858@gmail.com\",\n    rPassword1: \"123456\",\n    rPassword2: \"123456\",\n  });\n\n  const dispatch = useDispatch();\n\n  const { lEmail, lPassword } = formLoginValues;\n  const { rName, rEmail, rPassword1, rPassword2 } = formRegisterValues;\n\n  const handleLogin = (e) => {\n      e.preventDefault();\n      dispatch(startLogin(lEmail, lPassword))\n  }\n\n  const handleRegister = (e) => {\n    e.preventDefault();\n\n    if(rPassword1 !== rPassword2){\n        return Swal.fire('Error', 'Las contraseñas deben de ser iguales');\n    }\n    \n    dispatch(startRegister(rEmail, rPassword1, rName))\n}\n\n  return (\n    <div className=\"container login-container\">\n      <div className=\"row\">\n        <div className=\"col-md-6 login-form-1\">\n          <h3>Ingreso</h3>\n          <form onSubmit={ handleLogin }>\n            <div className=\"form-group\">\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                placeholder=\"Correo\"\n                name=\"lEmail\"\n                value={ lEmail }\n                onChange={ handleLoginInputChange }\n              />\n            </div>\n            <div className=\"form-group\">\n              <input\n                type=\"password\"\n                className=\"form-control\"\n                placeholder=\"Contraseña\"\n                name=\"lPassword\"\n                value={ lPassword }\n                onChange={ handleLoginInputChange }\n              />\n            </div>\n            <div className=\"form-group\">\n              <input type=\"submit\" className=\"btnSubmit\" value=\"Login\" />\n            </div>\n          </form>\n        </div>\n\n        <div className=\"col-md-6 login-form-2\">\n          <h3>Registro</h3>\n          <form onSubmit={handleRegister}>\n            <div className=\"form-group\">\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                placeholder=\"Nombre\"\n                name=\"rName\"\n                value={ rName }\n                onChange={ handleRegisterInputChange }\n              />\n            </div>\n            <div className=\"form-group\">\n              <input\n                type=\"email\"\n                className=\"form-control\"\n                placeholder=\"Correo\"\n                name=\"rEmail\"\n                value={ rEmail }\n                onChange={ handleRegisterInputChange }\n              />\n            </div>\n            <div className=\"form-group\">\n              <input\n                type=\"password\"\n                className=\"form-control\"\n                placeholder=\"Contraseña\"\n                name=\"rPassword1\"\n                value={ rPassword1 }\n                onChange={ handleRegisterInputChange }\n              />\n            </div>\n\n            <div className=\"form-group\">\n              <input\n                type=\"password\"\n                className=\"form-control\"\n                placeholder=\"Repita la contraseña\"\n                name=\"rPassword2\"\n                value={ rPassword2 }\n                onChange={ handleRegisterInputChange }\n              />\n            </div>\n\n            <div className=\"form-group\">\n              <input type=\"submit\" className=\"btnSubmit\" value=\"Crear cuenta\" />\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n};\n","import React from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { startLogout } from '../../actions/auth'\n\n\nexport const NavBar = () => {\n  const { name } = useSelector((state) => state.auth);\n  const dispatch = useDispatch();\n\n  const handleLogout = () => {\n    dispatch( startLogout() )\n  }\n\n  return ( \n    <div className=\"navbar navbar-dark bg-dark mb-4\">\n      <span className=\"navbar-brand\">{name}</span>\n      <button className=\"btn btn-outline-danger\" onClick={ handleLogout }>\n        <i className=\"fas fa-sign-out-alt\"></i>\n         Salir\n      </button>\n    </div>\n   );\n}\n ","export const messages = {\n  allDay: 'Todo el día',\n  previous: '<',\n  next: '>',\n  today: 'Hoy',\n  month: 'Mes',\n  week: 'Semana',\n  day: 'Día',\n  agenda: 'Agenda',\n  date: 'Fecha',\n  time: 'Hora',\n  event: 'Evento',\n  noEventsInRange: 'No hay eventos en este rango',\n  showMore: total => `+ Ver más (${total})`\n};","import React from \"react\";\n\nexport const CalendarEvent = ({event}) => {\n\n  const {title,user} = event;\n\n  return(\n    <div>\n      <strong>{title}</strong>\n      <span>-{user.name}</span>\n    </div>\n  )\n}","import { types } from \"../types/types\";\n\nexport const uiOpenModal = () => ({\n  type: types.uiOpenModal\n})\n\nexport const uiCloseModal = () => ({\n  type: types.uiCloseModal\n})","import React, { useState, useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport Modal from \"react-modal\";\nimport DateTimePicker from \"react-datetime-picker\";\nimport moment from \"moment\";\nimport Swal from \"sweetalert2\";\nimport { uiCloseModal } from \"../../actions/ui\";\nimport {\n  eventStartAddNew,\n  eventClearActiveEvent,\n  eventStartUpdate,\n} from \"../../actions/events\";\n\nconst customStyles = {\n  content: {\n    top: \"50%\",\n    left: \"50%\",\n    right: \"auto\",\n    bottom: \"auto\",\n    marginRight: \"-50%\",\n    transform: \"translate(-50%, -50%)\",\n  },\n};\n\nModal.setAppElement(\"#root\");\n\nconst now = moment().minutes(0).seconds(0).add(1, \"hours\");\nconst nowPlus1 = now.clone().add(1, \"hours\");\n\nconst initEvent = {\n  title: \"\",\n  notes: \"\",\n  start: now.toDate(),\n  end: nowPlus1.toDate(),\n};\n\nexport const CalendarModal = () => {\n  const modalOpen = useSelector((state) => state.ui.modalOpen);\n  const { activeEvent } = useSelector((state) => state.calendar);\n  const dispatch = useDispatch();\n\n  const [dateStart, setDateStart] = useState(now.toDate());\n  const [dateEnd, setDateEnd] = useState(nowPlus1.toDate());\n  const [titleValid, setTitleValid] = useState(true);\n  const [formValues, setFormValues] = useState(initEvent);\n\n  const { notes, title, start, end } = formValues;\n\n  useEffect(() => {\n    if (activeEvent) {\n      setFormValues(activeEvent);\n    }else {\n      setFormValues( initEvent )\n    }\n  }, [activeEvent, setFormValues]);\n\n  const handleInputChange = ({ target }) => {\n    setFormValues({\n      ...formValues,\n      [target.name]: target.value,\n    });\n  };\n\n  const closeModal = () => {\n    setFormValues(initEvent);\n    dispatch(uiCloseModal());\n    dispatch(eventClearActiveEvent());\n  };\n\n  const handleStartDateChange = (e) => {\n    setDateStart(e);\n    setFormValues({\n      ...formValues,\n      start: e,\n    });\n  };\n\n  const handleEndDateChange = (e) => {\n    setDateEnd(e);\n    setFormValues({\n      ...formValues,\n      end: e,\n    });\n  };\n\n  const handleSubmitForm = (e) => {\n    e.preventDefault();\n\n    const momentStart = moment(start);\n    const momentEnd = moment(end);\n\n    if (momentStart.isSameOrAfter(momentEnd)) {\n      Swal.fire(\n        \"Error\",\n        \"La fecha fin debe ser mayor a la fecha de inicio\",\n        \"error\"\n      );\n      return;\n    }\n\n    if (title.trim().length < 2) {\n      return setTitleValid(false);\n    }\n\n    if (activeEvent) {\n      dispatch(eventStartUpdate(formValues));\n    } else {\n      dispatch(\n        eventStartAddNew(formValues)\n      );\n    }\n\n    setTitleValid(true);\n    closeModal();\n  };\n\n  return (\n    <Modal\n      isOpen={modalOpen}\n      // onAfterOpen={afterOpenModal}\n      onRequestClose={closeModal}\n      closeTimeoutMS={200}\n      style={customStyles}\n      className={\"modal\"}\n      overlayClassName={\"modal-fondo\"}\n    >\n      <h1> { activeEvent ? \"Editar evento\" : \"Nuevo evento\"} </h1>\n      <hr />\n      <form className=\"container\" onSubmit={handleSubmitForm}>\n        <div className=\"form-group\">\n          <label>Fecha y hora inicio</label>\n          <DateTimePicker\n            className=\"form-control\"\n            onChange={handleStartDateChange}\n            value={dateStart}\n          />\n        </div>\n\n        <div className=\"form-group\">\n          <label>Fecha y hora fin</label>\n          <DateTimePicker\n            className=\"form-control\"\n            onChange={handleEndDateChange}\n            value={dateEnd}\n            minDate={dateStart}\n          />\n        </div>\n\n        <hr />\n        <div className=\"form-group\">\n          <label>Titulo y notas</label>\n          <input\n            type=\"text\"\n            className={`form-control ${!titleValid && \"is-invalid\"}`}\n            placeholder=\"Título del evento\"\n            name=\"title\"\n            autoComplete=\"off\"\n            value={title}\n            onChange={handleInputChange}\n          />\n          <small id=\"emailHelp\" className=\"form-text text-muted\">\n            Una descripción corta\n          </small>\n        </div>\n\n        <div className=\"form-group\">\n          <textarea\n            type=\"text\"\n            className=\"form-control\"\n            placeholder=\"Notas\"\n            rows=\"5\"\n            name=\"notes\"\n            value={notes}\n            onChange={handleInputChange}\n          ></textarea>\n          <small id=\"emailHelp\" className=\"form-text text-muted\">\n            Información adicional\n          </small>\n        </div>\n\n        <button type=\"submit\" className=\"btn btn-outline-primary btn-block\">\n          <i className=\"far fa-save\"></i>\n          <span> Guardar</span>\n        </button>\n      </form>\n    </Modal>\n  );\n};\n","import React from \"react\"\n\n\nexport const AddNewFab = (props) => {\n  return ( \n    <button className=\"btn btn-primary fab\" onClick={() => props.action()}>\n      <i className=\"fas fa-plus\"></i>\n    </button>\n   );\n}","import React from \"react\"\n\n\nexport const DeleteEventFab = (props) => {\n  return ( \n    <button className=\"btn btn-danger fab-danger\" onClick={() => props.action()}>\n      <i className=\"fas fa-trash\"></i>\n      <span>Borrar evento</span>\n    </button>\n   );\n}","import React, { useState, useEffect } from \"react\";\nimport { Calendar, momentLocalizer } from \"react-big-calendar\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport moment from \"moment\";\nimport \"moment/locale/es\";\nimport { NavBar } from \"../ui/NavBar\";\nimport \"react-big-calendar/lib/css/react-big-calendar.css\";\nimport { messages } from \"../../helpers/calendar-messages-es\";\n\nimport { CalendarEvent } from \"./CalendarEvent\";\nimport { CalendarModal } from \"../calendar/CalendarModal\";\nimport { AddNewFab } from \"../ui/AddNewFab\";\nimport { DeleteEventFab } from \"../ui/DeleteEventFab\";\n\nimport { uiOpenModal } from \"../../actions/ui\";\nimport { eventSetActive, eventStartDelete, eventClearActiveEvent, eventStartLoading } from \"../../actions/events\";\n\nmoment.locale(\"es\");\n\nconst localizer = momentLocalizer(moment);\n\n\nexport const CalendarScreen = () => {\n  const dispatch = useDispatch();\n  const {events, activeEvent}  = useSelector( state => state.calendar);\n  const { uid }  = useSelector( state => state.auth);\n\n  const [lastView, setLastView] = useState(\n    localStorage.getItem(\"lastView\") || \"month\"\n  );\n\n  useEffect(() => {\n      dispatch( eventStartLoading() )\n  }, [dispatch]);\n\n  const onDoubleClick = (e) => {\n    dispatch(uiOpenModal());\n  };\n\n  const onSelectEvent = (e) => {\n    dispatch(eventSetActive(e));\n  };\n\n  const onViewChange = (e) => {\n    setLastView(e);\n    localStorage.setItem(\"lastView\", e);\n  };\n\n  const eventStyleGetter = (event, start, end, isSelected) => {\n    const style = {\n      backgroundColor: uid === event.user._id ? \"#367CF7\" : \"#465660\",\n      borderRadius: \"0px\",\n      opacity: 0.8,\n      display: \"block\",\n      color: \"white\",\n    };\n\n    return {\n      style,\n    };\n  };\n\n  const onSelectSlot = (e) => {\n    dispatch(eventClearActiveEvent())\n  }\n\n\n  return (\n    <div className=\"calendar-screen\">\n      <NavBar />\n      <Calendar\n        localizer={localizer}\n        events={events}\n        startAccessor=\"start\"\n        endAccessor=\"end\"\n        messages={messages}\n        onDoubleClickEvent={onDoubleClick}\n        selectable={true}\n        onSelectEvent={onSelectEvent}\n        onView={onViewChange}\n        eventPropGetter={eventStyleGetter}\n        components={{ event: CalendarEvent }}\n        onSelectSlot={onSelectSlot}\n        view={lastView}\n      />\n      <AddNewFab action={() => dispatch(uiOpenModal())}/>\n\n      {\n        activeEvent &&\n        <DeleteEventFab action={() => dispatch(eventStartDelete())}/>\n      }\n      \n      <CalendarModal />\n    </div>\n  );\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Route, Redirect } from 'react-router-dom';\n\n\nexport const PrivateRoute = ({\n    isAuthenticated,\n    component: Component,\n    ...rest\n}) => {\n\n    return (\n        <Route { ...rest }\n            component={ (props) => (\n                ( isAuthenticated )\n                    ? ( <Component { ...props } /> )\n                    : ( <Redirect to=\"/login\" /> )\n            )}\n        \n        />\n    )\n}\n\nPrivateRoute.propTypes = {\n    isAuthenticated: PropTypes.bool.isRequired,\n    component: PropTypes.func.isRequired\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Route, Redirect } from 'react-router-dom';\n\n\nexport const PublicRoute = ({\n    isAuthenticated,\n    component: Component,\n    ...rest\n}) => {\n\n    return (\n        <Route { ...rest }\n            component={ (props) => (\n                ( isAuthenticated )\n                    ? ( <Redirect to=\"/\" /> )\n                    : ( <Component { ...props } /> )\n            )}\n        \n        />\n    )\n}\n\nPublicRoute.propTypes = {\n    isAuthenticated: PropTypes.bool.isRequired,\n    component: PropTypes.func.isRequired\n}\n","import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from \"react-router-dom\";\n\nimport { startChecking } from \"../actions/auth\";\nimport { LoginScreen } from \"../components/auth/LoginScreen\";\nimport { CalendarScreen } from \"../components/calendar/CalendarScreen\";\nimport { PrivateRoute } from \"../router/PrivateRoute\";\nimport { PublicRoute } from \"../router/PublicRoute\";\n\nexport const AppRouter = () => {\n  const dispatch = useDispatch();\n  const { checking, uid } = useSelector((state) => state.auth);\n\n  useEffect(() => {\n    dispatch(startChecking());\n  }, [dispatch]);\n\n  if (checking) {\n    return <h5>Espere...</h5>;\n  }\n\n  return (\n    <Router>\n      <div>\n        <Switch>\n          <PublicRoute\n            exact\n            path=\"/login\"\n            component={LoginScreen}\n            isAuthenticated={!!uid}\n          />\n          <PrivateRoute\n            exact\n            path=\"/\"\n            component={CalendarScreen}\n            isAuthenticated={!!uid}\n          />\n          <Redirect to=\"/\" />\n        </Switch>\n      </div>\n    </Router>\n  );\n};\n","import React from \"react\";\nimport { Provider } from 'react-redux';\nimport {store} from './store/store';\nimport {AppRouter} from \"./router/AppRouter\";\n\nexport const CalendarApp = () => {\n  return ( \n    <Provider store={ store }>\n      <AppRouter />\n    </Provider>\n   );\n}\n \n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { CalendarApp } from \"./CalendarApp\"\nimport \"./styles.css\"\n\n\nReactDOM.render(\n\n    <CalendarApp />,\n    document.getElementById('root')\n);\n\n"],"sourceRoot":""}